{"ast":null,"code":"var _jsxFileName = \"D:\\\\FantaShop\\\\React\\\\src\\\\components\\\\NotificationsWidget.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport Notification from './Notification';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NotificationsWidget = ({\n  accessToken\n}) => {\n  _s();\n\n  const [notifications, setNotifications] = useState(undefined);\n  window.addEventListener('load', () => {\n    fetch(process.env.REACT_APP_API_URL + `users/getdata/${accessToken}`).then(res => res.json()).then(data => {\n      setNotifications(data.notifications);\n\n      if (data.notifications && data.notifications.length > 0) {\n        fetch(process.env.REACT_APP_API_URL + `users/removenotification/${accessToken}/${data.notifications[0].id}`, {\n          method: 'POST'\n        }).then(r => r.json()).then(d => {});\n      }\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(Widget, {\n    style: notifications && {\n      animationPlayState: 'running'\n    },\n    children: notifications && notifications.length > 0 && /*#__PURE__*/_jsxDEV(Notification, {\n      type: notifications[0].type,\n      title: notifications[0].title,\n      date: notifications[0].date\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NotificationsWidget, \"lruvFJe54KJT3lnCJ4sRuhlhppg=\");\n\n_c = NotificationsWidget;\nconst WidgetShow = keyframes`\n  0% {\n    opacity: 0;\n    right: -100%;\n  }\n\n  30% {\n    opacity: 1;\n    right: 20px;\n  }\n\n  70% {\n    opacity: 1;\n    right: 20px;\n  }\n\n  100% {\n    opacity: 0;\n    right: -100%;\n  }\n`;\nconst WidgetOut = keyframes`\n  from {\n    opacity: 1;\n    right: 20px;\n  }\n\n  to {\n    opacity: 0;\n    right: -100%;\n  }\n`;\nconst Widget = styled.div`\n\n  position: fixed;\n  opacity: 0;\n  bottom: 20px;\n  right: -150%;\n  z-index: 999;\n\n  animation: ${WidgetShow} 5s ease-in-out forwards paused;\n\n`;\n_c2 = Widget;\nexport default NotificationsWidget;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"NotificationsWidget\");\n$RefreshReg$(_c2, \"Widget\");","map":{"version":3,"sources":["D:/FantaShop/React/src/components/NotificationsWidget.js"],"names":["useEffect","useState","styled","keyframes","Notification","NotificationsWidget","accessToken","notifications","setNotifications","undefined","window","addEventListener","fetch","process","env","REACT_APP_API_URL","then","res","json","data","length","id","method","r","d","animationPlayState","type","title","date","WidgetShow","WidgetOut","Widget","div"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,MAAP,IAAiBC,SAAjB,QAAkC,mBAAlC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;;AAEA,MAAMC,mBAAmB,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAmB;AAAA;;AAE7C,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCP,QAAQ,CAACQ,SAAD,CAAlD;AAEAC,EAAAA,MAAM,CAACC,gBAAP,CAAwB,MAAxB,EAAgC,MAAM;AACpCC,IAAAA,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAiC,iBAAgBT,WAAY,EAA9D,CAAL,CAAsEU,IAAtE,CAA2EC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAAlF,EAA8FF,IAA9F,CAAmGG,IAAI,IAAI;AACzGX,MAAAA,gBAAgB,CAACW,IAAI,CAACZ,aAAN,CAAhB;;AAEA,UAAGY,IAAI,CAACZ,aAAL,IAAsBY,IAAI,CAACZ,aAAL,CAAmBa,MAAnB,GAA4B,CAArD,EAAwD;AACtDR,QAAAA,KAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,iBAAZ,GAAiC,4BAA2BT,WAAY,IAAGa,IAAI,CAACZ,aAAL,CAAmB,CAAnB,EAAsBc,EAAG,EAArG,EAAwG;AAACC,UAAAA,MAAM,EAAE;AAAT,SAAxG,CAAL,CAA+HN,IAA/H,CAAoIO,CAAC,IAAIA,CAAC,CAACL,IAAF,EAAzI,EAAmJF,IAAnJ,CAAwJQ,CAAC,IAAI,CAE5J,CAFD;AAGD;AACF,KARD;AASD,GAVD;AAYA,sBACE,QAAC,MAAD;AAAQ,IAAA,KAAK,EAAEjB,aAAa,IAAI;AAACkB,MAAAA,kBAAkB,EAAE;AAArB,KAAhC;AAAA,cACGlB,aAAa,IACZA,aAAa,CAACa,MAAd,GAAuB,CADxB,iBAEC,QAAC,YAAD;AAAc,MAAA,IAAI,EAAEb,aAAa,CAAC,CAAD,CAAb,CAAiBmB,IAArC;AAA2C,MAAA,KAAK,EAAEnB,aAAa,CAAC,CAAD,CAAb,CAAiBoB,KAAnE;AAA0E,MAAA,IAAI,EAAEpB,aAAa,CAAC,CAAD,CAAb,CAAiBqB;AAAjG;AAAA;AAAA;AAAA;AAAA;AAHJ;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,CAxBD;;GAAMvB,mB;;KAAAA,mB;AA0BN,MAAMwB,UAAU,GAAG1B,SAAU;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CApBA;AAsBA,MAAM2B,SAAS,GAAG3B,SAAU;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAVA;AAYA,MAAM4B,MAAM,GAAG7B,MAAM,CAAC8B,GAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAeH,UAAW;AAC1B;AACA,CAVA;MAAME,M;AAYN,eAAe1B,mBAAf","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport styled, { keyframes } from 'styled-components'\r\nimport Notification from './Notification'\r\n\r\nconst NotificationsWidget = ({accessToken}) => {\r\n\r\n  const [notifications, setNotifications] = useState(undefined)\r\n\r\n  window.addEventListener('load', () => {\r\n    fetch(process.env.REACT_APP_API_URL + `users/getdata/${accessToken}`).then(res => res.json()).then(data => {\r\n      setNotifications(data.notifications)\r\n\r\n      if(data.notifications && data.notifications.length > 0) {\r\n        fetch(process.env.REACT_APP_API_URL + `users/removenotification/${accessToken}/${data.notifications[0].id}`, {method: 'POST'}).then(r => r.json()).then(d => {\r\n            \r\n        })\r\n      }\r\n    })\r\n  })\r\n\r\n  return (\r\n    <Widget style={notifications && {animationPlayState: 'running'}}>\r\n      {notifications && \r\n        notifications.length > 0 && \r\n        <Notification type={notifications[0].type} title={notifications[0].title} date={notifications[0].date}></Notification> \r\n      }\r\n    </Widget>\r\n  )\r\n}\r\n\r\nconst WidgetShow = keyframes`\r\n  0% {\r\n    opacity: 0;\r\n    right: -100%;\r\n  }\r\n\r\n  30% {\r\n    opacity: 1;\r\n    right: 20px;\r\n  }\r\n\r\n  70% {\r\n    opacity: 1;\r\n    right: 20px;\r\n  }\r\n\r\n  100% {\r\n    opacity: 0;\r\n    right: -100%;\r\n  }\r\n`;\r\n\r\nconst WidgetOut = keyframes`\r\n  from {\r\n    opacity: 1;\r\n    right: 20px;\r\n  }\r\n\r\n  to {\r\n    opacity: 0;\r\n    right: -100%;\r\n  }\r\n`;\r\n\r\nconst Widget = styled.div`\r\n\r\n  position: fixed;\r\n  opacity: 0;\r\n  bottom: 20px;\r\n  right: -150%;\r\n  z-index: 999;\r\n\r\n  animation: ${WidgetShow} 5s ease-in-out forwards paused;\r\n\r\n`\r\n\r\nexport default NotificationsWidget\r\n"]},"metadata":{},"sourceType":"module"}